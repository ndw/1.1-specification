<html xmlns="http://www.w3.org/1999/xhtml"><head><title>XProc 3.0: Operating System Steps</title><meta charset="utf-8" /><link rel="alternate" title="XML" href="specification.xml" /><link rel="alternate" title="Latest editor's draft" href="http://www.w3.org/XML/XProc/docs/langspec.html" /><link rel="alternate" title="Latest Public Working Draft" href="http://www.w3.org/TR/xproc/" /><meta name="generator" content="DocBook XSL 2.0 Stylesheets V2.3.7" /><meta name="description" content="Abstract This specification describes operating-system related steps&#xA;for&#xA;XProc 3.0: An XML Pipeline Language." /><link href="css/prism.css" rel="stylesheet" type="text/css" /><link href="css/db-prism.css" rel="stylesheet" type="text/css" /><link rel="stylesheet" type="text/css" href="css/base.css" /><link rel="stylesheet" type="text/css" href="css/xproc.css" /><link rel="stylesheet" type="text/css" href="css/base.css" /><script type="text/javascript" src="js/dbmodnizr.js"></script></head><body><div class="specification"><div class="head" id="spec.head"><h1>XProc 3.0: Operating System Steps</h1><h2>Editor's Draft  <time datetime="2018-11-30T01:03:42Z">30 November 2018 at 01:03 UTC (<a href="https://github.com/ndw/3.0-specification/commit/d536e59d21d3f6e9bdbe3dc5911c0d91f173130b">build 353</a>)</time></h2><dl><dt>This Version:</dt><dd><a href="https://ndw.github.io/3.0-specification/reorg-steps/head/exec/">https://ndw.github.io/3.0-specification/reorg-steps/head/exec/</a></dd><dt>Latest Version:</dt><dd><a href="http://spec.xproc.org/master/head/exec/">http://spec.xproc.org/master/head/exec/</a></dd><dt>Editors:</dt><dd><span class="personname">Norman Walsh</span></dd><dd><span class="personname">Achim Berndzen</span></dd><dd><span class="personname">Gerrit Imsieke</span></dd><dd><span class="personname">Erik Siegel</span></dd><dt>Repository:</dt><dd><a href="http://github.com/ndw/3.0-specification">This specification on GitHub</a></dd><dd><a href="http://github.com/xproc/3.0-specification/issues">Report an issue</a></dd><dt>Changes:</dt><dd><a href="http://github.com/ndw/3.0-specification/commits/reorg-steps">Commits for this specification</a></dd></dl><p>This document is also available in these non-normative formats: <a href="specification.xml">XML</a>.</p><p class="copyright"><span class="copyright">Copyright © <span class="years">2018</span> <span class="holders"><span class="holder">@@FIXME:</span></span></span></p><hr /><div class="abstract"><h2>Abstract</h2>
<p>This specification describes operating-system related steps
for
<em class="citetitle">XProc 3.0: An XML Pipeline Language</em>.</p>
</div><div class="status"><h2>Status of this Document</h2><p><strong>This document is an editor's  draft that has no official standing.</strong></p>

<p><em>This section describes the status of this document at
the time of its publication. Other documents may supersede this
document.</em></p>

<p>This document is derived from
<a href="https://www.w3.org/TR/2010/REC-xproc-20100511/">XProc:
An XML Pipeline Language</a> published by the W3C.</p>
</div></div><hr /><div class="lists-of-titles"><div class="toc"><h2 id="TableOfContents">Table of Contents</h2><ul class="toc"><li><span>1 <a href="#introduction">Introduction</a></span></li><li><span>2 <a href="#c.os-cwd">p:os-cwd</a></span></li><li><span>3 <a href="#c.os-env">p:os-env</a></span></li><li><span>4 <a href="#c.os-info">p:os-info</a></span></li><li><span>5 <a href="#errors">Step Errors</a></span></li><li><span>A <a href="#conformance">Conformance</a></span><ul class="toc"><li><span>A.1 <a href="#implementation-defined">Implementation-defined features</a></span></li><li><span>A.2 <a href="#implementation-dependent">Implementation-dependent features</a></span></li></ul></li><li><span>B <a href="#references">References</a></span></li><li><span>C <a href="#glossary">Glossary</a></span></li></ul></div></div>


<section id="introduction" class="section"><div class="section-titlepage"><h2>1 Introduction</h2></div><div class="content">


<p>This specification describes the <code class="code">p:os-cwd</code>, <code class="code">p:os-env</code>,
and <code class="code">p:os-info</code> XProc steps.
A machine-readable description of these steps may be found in <a href="steps.xpl">steps.xpl</a>.
</p>

<p>Familarity with the
general nature of [<a href="#xproc30"><span class="abbrev">XProc 3.0</span></a>]
steps is assumed; for background details, see
[<a href="#xproc30-steps"><span class="abbrev">XProc 3.0 Steps</span></a>].</p>
</div></section>

<section id="c.os-cwd" class="section"><div class="section-titlepage"><h2>2 p:os-cwd</h2></div><div class="content">


<p>The <code class="code">p:os-cwd</code> step returns the current working directory.</p>

<p class="element-syntax element-syntax-declare-step"><span class="decl"><code>&lt;p:declare-step</code> <code class="attr type-attr">type</code><code>="</code><code class="value type-value">p:os-cwd</code><code>"</code><code>&gt;</code></span><br />     <span class="input"><code>&lt;p:output</code> <code class="attr port-attr">port</code><code>="</code><code class="value port-value">result</code><code>"</code> <code class="attr content-types-attr">content-types</code><code>="</code><code class="value content-types-value">application/xml</code><code>"</code><code>/&gt;</code></span><br /><code>&lt;/p:declare-step&gt;</code></p>

<p>The step returns a single <code class="tag-element">c:result</code> element containing
the current working directory. On systems which have no concept of a
working directory the resulting <code class="tag-element">c:result</code> element will be
empty.</p>

<section id="c.os-cwd.5" class="simplesect"><div class="section-titlepage"><h3>Document properties</h3></div><div class="content">

<p>No document properties are preserved.</p>
</div></section>

</div></section>
<section id="c.os-env" class="section"><div class="section-titlepage"><h2>3 p:os-env</h2></div><div class="content">


<p>The <code class="code">p:os-env</code> step returns information about the
operating system environment on which the processor is running.</p>

<p class="element-syntax element-syntax-declare-step"><span class="decl"><code>&lt;p:declare-step</code> <code class="attr type-attr">type</code><code>="</code><code class="value type-value">p:os-env</code><code>"</code><code>&gt;</code></span><br />     <span class="input"><code>&lt;p:output</code> <code class="attr port-attr">port</code><code>="</code><code class="value port-value">result</code><code>"</code> <code class="attr content-types-attr">content-types</code><code>="</code><code class="value content-types-value">application/xml</code><code>"</code><code>/&gt;</code></span><br /><code>&lt;/p:declare-step&gt;</code></p>

<p>The <code class="tag-element">p:os-env</code> step returns information about the
operating system environment. It returns a <code class="tag-element">c:result</code> element
containing zero or more <code class="tag-element">c:env</code> elements. Each
<code class="tag-element">c:env</code> element has a <code class="tag-attribute">name</code> and a
<code class="tag-attribute">value</code> attribute containing the name and
value of an environment variable.</p>

<p>On systems which have no concept of an environment, this step
returns an empty <code class="tag-element">c:result</code> element.</p>

<section id="c.os-env.6" class="simplesect"><div class="section-titlepage"><h3>Document properties</h3></div><div class="content">

<p>No document properties are preserved.</p>
</div></section>

</div></section>
<section id="c.os-info" class="section"><div class="section-titlepage"><h2>4 p:os-info</h2></div><div class="content">


<p>The <code class="code">p:os-info</code> step returns information about the
operating system on which the processor is running.</p>

<p class="element-syntax element-syntax-declare-step"><span class="decl"><code>&lt;p:declare-step</code> <code class="attr type-attr">type</code><code>="</code><code class="value type-value">p:os-info</code><code>"</code><code>&gt;</code></span><br />     <span class="input"><code>&lt;p:output</code> <code class="attr port-attr">port</code><code>="</code><code class="value port-value">result</code><code>"</code> <code class="attr content-types-attr">content-types</code><code>="</code><code class="value content-types-value">application/xml</code><code>"</code><code>/&gt;</code></span><br /><code>&lt;/p:declare-step&gt;</code></p>

<p>The step returns a <code class="tag-element">c:result</code> element with attributes
describing properties of the system. It <span class="rfc2119" id="c.os-info.4.2">should</span>
include the following properties:</p>

<div class="note editorial admonition"><h3>Editorial Note</h3><div class="admonition-body">
  
  <p>See <a href="https://github.com/xproc/3.0-steps/issues/29">https://github.com/xproc/3.0-steps/issues/29</a>.</p>
</div></div>

<div class="variablelist">
  
  
  
  
  
  
  
  
<dl><dt><span class="term"><code class="tag-attribute">file-separator</code></span></dt><dd>
      <p>The file separator; usually “<code class="code">/</code>” on Unix, “<code class="code">\</code>” on Windows.</p>
    </dd><dt><span class="term"><code class="tag-attribute">path-separator</code></span></dt><dd>
      <p>The path separator; usually “<code class="code">:</code>” on Unix, “<code class="code">;</code>” on Windows.</p>
    </dd><dt><span class="term"><code class="tag-attribute">os-architecture</code></span></dt><dd>
      <p>The operating system architecture, for example “<code class="code">i386</code>”.</p>
    </dd><dt><span class="term"><code class="tag-attribute">os-name</code></span></dt><dd>
      <p>The name of the operating system, for example “<code class="code">Darwin</code>”.</p>
    </dd><dt><span class="term"><code class="tag-attribute">os-version</code></span></dt><dd>
      <p>The version of the operating system, for example “<code class="code">10.5.6</code>”.</p>
    </dd><dt><span class="term"><code class="tag-attribute">cwd</code></span></dt><dd>
      <p>The current working directory. On systems which have no
      concept of a working directory the value of the attribute will
      be empty.</p>
    </dd><dt><span class="term"><code class="tag-attribute">user-name</code></span></dt><dd>
      <p>The login name of the effective user, for example “<code class="code">jsmith</code>”.</p>
    </dd><dt><span class="term"><code class="tag-attribute">user-home</code></span></dt><dd>
      <p>The home directory of the effective user, for example “<code class="code">/home/jsmith</code>”.</p>
    </dd></dl></div>

<p><span id="impl-1">The exact set of properties returned is
<em class="glossterm"><a href="#dt-implementation-defined">implementation-defined</a></em>.</span></p>

<section id="c.os-info.8" class="simplesect"><div class="section-titlepage"><h3>Document properties</h3></div><div class="content">
  
  <p>No document properties are preserved.</p>
</div></section>

</div></section>

<section id="errors" class="section"><div class="section-titlepage"><h2>5 Step Errors</h2></div><div class="content">


<p>This step can raise
<em class="glossterm"><a href="#dt-dynamic-error">dynamic errors</a></em>.
</p>

<p><span id="dt-dynamic-error" class="termdef">[Definition: A <em class="glossterm">dynamic
error</em> is one which occurs while a pipeline is being
evaluated.]</span> Examples of dynamic errors include references to
URIs that cannot be resolved, steps which fail, and pipelines that
exhaust the capacity of an implementation (such as memory or disk
space). For a more complete discussion of dynamic errors, see
<cite><a href="xproc/#dynamic-errors">Dynamic Errors</a></cite> in <cite><a href="xproc/">XProc 3.0: An XML Pipeline Language</a></cite>.
</p>

<p>If a step fails due to a dynamic error, failure propagates
upwards until either a <code class="tag-element">p:try</code> is encountered or the entire
pipeline fails. In other words, outside of a <code class="tag-element">p:try</code>, step
failure causes the entire pipeline to fail.</p>

<p>The following errors can be raised by this step:</p>

<div id="step-error-summary"><dl class="errs"></dl></div>

</div></section>

<article id="conformance" class="appendix"><header class="appendix-titlepage"><h2>A Conformance</h2></header><div class="content">


<p>Conformant processors <span class="rfc2119" id="conformance.2.1">must</span> implement all of the features
described in this specification except those that are explicitly identified
as optional.</p>

<p>Some aspects of processor behavior are not completely specified; those
features are either <em class="glossterm"><a href="#dt-implementation-dependent">implementation-dependent</a></em> or
<em class="glossterm"><a href="#dt-implementation-defined">implementation-defined</a></em>.</p>

<p><span id="dt-implementation-dependent" class="termdef">[Definition: An
<em class="glossterm">implementation-dependent</em> feature is one where the
implementation has discretion in how it is performed.
Implementations are not required to document or explain
how <em class="glossterm"><a href="#dt-implementation-dependent">implementation-dependent</a></em> features are performed.]</span>
</p>

<p><span id="dt-implementation-defined" class="termdef">[Definition: An
<em class="glossterm">implementation-defined</em> feature is one where the
implementation has discretion in how it is performed.
Conformant implementations <span class="rfc2119" id="dt-implementation-defined.2">must</span> document
how <em class="glossterm"><a href="#dt-implementation-defined">implementation-defined</a></em> features are performed.]</span>
</p>

<section id="implementation-defined" class="section"><div class="section-titlepage"><h2>A.1 Implementation-defined features</h2></div><div class="content">


<p>The following features are implementation-defined:</p>

<ol class="features"><li>The exact set of properties returned is
implementation-defined. See <a href="#c.os-info" title="p:os-info">Section 4, “p:os-info”</a>.</li></ol>
</div></section>

<section id="implementation-dependent" class="section"><div class="section-titlepage"><h2>A.2 Implementation-dependent features</h2></div><div class="content">


<p>The following features are implementation-dependent:</p>

<ol class="features"></ol>
</div></section>
</div></article>

<article id="references" class="appendix"><header class="appendix-titlepage"><h2>B References</h2></header><div class="content">

<div id="references.2" class="bibliolist">
<div id="xproc30" class="bibliomixed"><p>[<span class="abbrev">XProc 3.0</span>] 
<a href="http://spec.xproc.org/"><span class="citetitle"><cite>XProc 3.0:
An XML Pipeline Language</cite></span></a>.
Norman Walsh, Achim Berndzen, Gerrit Imsieke and Erik Siegel, editors.
</p></div>
<div id="xproc30-steps" class="bibliomixed"><p>[<span class="abbrev">XProc 3.0 Steps</span>] 
<a href="http://spec.xproc.org/"><span class="citetitle"><cite>XProc 3.0 Steps:
An Introduction</cite></span></a>.
Norman Walsh, Achim Berndzen, Gerrit Imsieke and Erik Siegel, editors.
</p></div>
</div>
</div></article>


<article id="glossary" class="appendix"><header class="appendix-titlepage"><h2>C Glossary</h2></header><div class="content"><div class="glosslist"><dl><dt id="glossary.2.1" class="glossentry"><em class="glossterm"><a href="#dt-dynamic-error">dynamic
error</a></em></dt><dd class="glossdef"><p>A <em class="firstterm">dynamic
error</em> is one which occurs while a pipeline is being
evaluated.</p></dd><dt id="glossary.2.2" class="glossentry"><em class="glossterm"><a href="#dt-implementation-defined">implementation-defined</a></em></dt><dd class="glossdef"><p>An
<em class="firstterm">implementation-defined</em> feature is one where the
implementation has discretion in how it is performed.
Conformant implementations <span class="rfc2119" id="glossary.2.2.2.1.2">must</span> document
how <em class="glossterm"><a href="#dt-implementation-defined">implementation-defined</a></em> features are performed.</p></dd><dt id="glossary.2.3" class="glossentry"><em class="glossterm"><a href="#dt-implementation-dependent">implementation-dependent</a></em></dt><dd class="glossdef"><p>An
<em class="firstterm">implementation-dependent</em> feature is one where the
implementation has discretion in how it is performed.
Implementations are not required to document or explain
how <em class="glossterm"><a href="#dt-implementation-dependent">implementation-dependent</a></em> features are performed.</p></dd></dl></div></div></article>

</div><script src="js/prism.js"></script></body></html>